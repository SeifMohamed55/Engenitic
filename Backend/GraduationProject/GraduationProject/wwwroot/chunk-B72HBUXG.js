import{a as U,b as B,c as Y}from"./chunk-A66F6OJO.js";import{a as A}from"./chunk-DAENC3M5.js";import{l as M}from"./chunk-T3YITE6W.js";import{a as V,c as $,d as D,g as z}from"./chunk-CGPJEUNO.js";import{i as F,j as T,m as N,r as O}from"./chunk-3CPSLGPY.js";import{Ab as n,Bb as l,Eb as P,Ib as w,Jb as d,Mb as k,R as f,Sa as S,Sb as v,Tb as c,Vb as h,Xa as o,_b as L,ac as g,bb as p,cc as C,fc as R,gb as E,ha as b,hc as j,ia as I,ic as y,j as _,lb as m,sb as a,tb as x,zb as r}from"./chunk-YOS4OKYA.js";var J=(t,i,e)=>({itemsPerPage:t,currentPage:i,totalItems:e}),q=t=>({left:t}),K=(t,i,e)=>["/main-course",t,i,e],Q=t=>["/course-details",t];function W(t,i){if(t&1&&(r(0,"a",19)(1,"span",20),c(2," continue "),n(),r(3,"span",21),l(4,"i",22),n()()),t&2){let e=d().$implicit,s=d(2);a("routerLink",C(1,K,s.userId,e.id,e.courseId))}}function X(t,i){if(t&1&&(r(0,"a",23)(1,"span",20),c(2," details "),n(),r(3,"span",21),l(4,"i",24),n()()),t&2){let e=d().$implicit;a("routerLink",g(1,Q,e.course.id))}}function Z(t,i){if(t&1&&(r(0,"div",7)(1,"figure",8),l(2,"img",9),n(),r(3,"article",10)(4,"h3",11),c(5),n(),r(6,"div",12)(7,"span",13)(8,"p",14),c(9," You "),n(),l(10,"i",15),n(),l(11,"span",16),r(12,"span",17),c(13),n()(),m(14,W,5,5,"a",18),n(),m(15,X,5,3,"ng-template",null,1,y),n()),t&2){let e=i.$implicit,s=v(16),u=d(2);o(2),k("title",e.course.image.name||"Course Image"),a("src",e.course.image.imageURL,S)("alt",e.course.image.name),o(3),h(" ",e.course.title," "),o(2),a("ngStyle",g(13,q,"calc("+e.progress+"% - 16px)")),o(4),x("width",e.progress+"%"),o(),x("width",u.isInView?e.progress+"%":"0%"),a("ngStyle",g(15,q,"calc("+e.progress+"% - 6px)")),o(),h(" ",e.progress.toFixed(0),"% "),o(),a("ngIf",!e.isCompleted)("ngIfElse",s)}}function ee(t,i){if(t&1&&(r(0,"div"),m(1,Z,17,17,"div",6),R(2,"paginate"),n()),t&2){let e=d();o(),a("ngForOf",j(2,1,e.userCourses.paginatedList,C(4,J,e.itemsPerPage,e.currentPage,e.totalItems)))}}function te(t,i){t&1&&(r(0,"div",25)(1,"p",26),c(2," no courses found please press here to start learning ! "),n(),l(3,"i",27),r(4,"a",28)(5,"span",20),c(6," click me ! "),n(),r(7,"span",21),l(8,"i",29),n()()(),r(9,"figure",30),l(10,"img",31),n())}var G=class t{constructor(i,e,s,u){this._ActivatedRouter=i;this._CoursesService=e;this._Router=s;this._ToastrService=u}destroy$=new _;isInView=!1;userId;courseDone=!1;userCourses={totalPages:0,totalItems:0,currentlyViewing:"",paginatedList:[]};currentPage=1;itemsPerPage=10;totalItems=0;ngOnInit(){this._ActivatedRouter.paramMap.pipe(f(this.destroy$)).subscribe(i=>{let e=i.get("userId"),s=i.get("collectionId");this.userId=e?Number.parseInt(e):0,this.currentPage=s?Number.parseInt(s):1,this.fetchCollection()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}fetchCollection(){this.userId&&this._CoursesService.getEnrolledCourses(this.currentPage,this.userId).pipe(f(this.destroy$)).subscribe({next:i=>{this.userCourses=i.data??{totalPages:0,totalItems:0,currentlyViewing:"",paginatedList:[]},this.totalItems=this.userCourses.totalItems},error:i=>{this._ToastrService.error(i.error.message||"something wrong happened, try again later"),this.userCourses={totalPages:0,totalItems:0,currentlyViewing:"",paginatedList:[]}}})}trackByCourse(i,e){return e.course.id}onPageChange(i){this.currentPage=i,this._Router.navigate(["/profile/student",this.userId,i]).then(()=>this.fetchCollection())}static \u0275fac=function(e){return new(e||t)(p(V),p(A),p($),p(M))};static \u0275cmp=E({type:t,selectors:[["app-student-enrolled-courses"]],features:[L([])],decls:9,vars:4,consts:[["noCoursesFound",""],["finishedCourses",""],[1,"pt-10","sm:py-4","text-2xl","sm:text-3xl","lg:text-5xl","xl:text-header","font-display","text-center"],[1,"flex","flex-col","justify-between"],[4,"ngIf","ngIfElse"],["previousLabel","Previous","nextLabel","Next",3,"pageChange","responsive","maxSize"],["class","grid grid-cols-1 sm:grid-cols-5 py-10 gap-10 border-b px-10",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-5","py-10","gap-10","border-b","px-10"],[1,"w-fit","sm:col-span-2","md:col-span-1","mx-auto"],[1,"object-contain","w-[250px]","h-[250px]",3,"src","alt","title"],[1,"sm:col-span-3","md:col-span-4","flex","flex-col","gap-14","justify-between","items-start"],[1,"text-secondary-header","font-display"],[1,"relative","w-full","h-[12px]","flex","items-center","border","border-black","rounded-xl"],[1,"absolute","bottom-3","z-10","flex","justify-between","gap-0","flex-col","rounded-xl","items-center","transition-all","duration-300",3,"ngStyle"],[1,"px-2","py-2","flex","justify-center","items-center","border","border-black","rounded-full","font-display","bg-white","text-xs"],[1,"fa-solid","fa-arrow-down","text-xs"],[1,"h-[12px]","-z-10","transition-all","duration-300","rounded-xl","bg-gradient-to-r","from-[#58B6B8]","to-[#235e62]"],[1,"absolute","top-4","z-10","font-display","text-xs","transition-all","duration-300",3,"ngStyle"],["class","mx-auto sm:m-0 engenitic-button relative group inline-block text-center hover:enginitic-main-color hover:text-white duration-500 transition-all",3,"routerLink",4,"ngIf","ngIfElse"],[1,"mx-auto","sm:m-0","engenitic-button","relative","group","inline-block","text-center","hover:enginitic-main-color","hover:text-white","duration-500","transition-all",3,"routerLink"],[1,"transition-opacity","duration-500","opacity-100","group-hover:opacity-0"],[1,"absolute","inset-0","top-2","transition-opacity","duration-500","opacity-0","group-hover:opacity-100","text-white"],[1,"fa-solid","fa-right-long"],[1,"mx-auto","sm:m-0","engenitic-button","relative","group","inline-block","text-center","hover:bg-[#27767a]",3,"routerLink"],[1,"fa-solid","fa-thumbs-up"],[1,"flex","justify-center","items-center","flex-col","pt-10"],[1,"text-red-500","text-secondary-header","font-normal"],[1,"fa-solid","fa-angles-down","text-4xl","fade-out-bottom","my-10"],["routerLink","/offered-courses",1,"my-3","engenitic-button","hover:enginitic-main-color","relative","group","inline-block","text-center"],[1,"fa-solid","fa-mug-hot"],[1,"flex","justify-center","items-center","w-full"],["src","./assets/images/no-courses-found.jpeg","alt","no course found",1,"object-contain"]],template:function(e,s){if(e&1){let u=P();r(0,"div")(1,"h2",2),c(2," enrolled courses "),n(),r(3,"div")(4,"div",3),m(5,ee,3,8,"div",4)(6,te,11,0,"ng-template",null,0,y),n(),r(8,"pagination-controls",5),w("pageChange",function(H){return b(u),I(s.onPageChange(H))}),n()()()}if(e&2){let u=v(7);o(5),a("ngIf",s.userCourses.paginatedList.length>0)("ngIfElse",u),o(3),a("responsive",!0)("maxSize",10)}},dependencies:[z,D,O,F,T,N,Y,U,B],encapsulation:2})};export{G as StudentEnrolledCoursesComponent};
