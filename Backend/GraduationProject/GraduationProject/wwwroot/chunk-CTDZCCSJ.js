import{a as I}from"./chunk-KCRSIWVY.js";import{a as E,b as d,c as G,d as U,e as V,f as j,h as M,j as q,m as A,t as k}from"./chunk-W3D5FJDG.js";import{l as N}from"./chunk-T3YITE6W.js";import{j as T,r as D}from"./chunk-3CPSLGPY.js";import{Ab as m,Bb as S,C as v,Eb as P,Ib as C,Jb as y,R as F,S as _,Sb as x,Tb as l,Xa as n,bb as p,gb as w,ha as b,ia as h,j as g,lb as c,n as f,sb as s,zb as a}from"./chunk-YOS4OKYA.js";function R(e,t){e&1&&(a(0,"p",8),l(1," the email entity is required "),m())}function z(e,t){e&1&&(a(0,"p",8),l(1," email is not valid "),m())}function B(e,t){if(e&1&&(a(0,"div"),c(1,R,2,0,"p",7)(2,z,2,0,"p",7),m()),e&2){let o,i,r=y();n(),s("ngIf",(o=r.ForgetPassForm.get("email"))==null?null:o.getError("required")),n(),s("ngIf",(i=r.ForgetPassForm.get("email"))==null?null:i.getError("email"))}}var $=class e{constructor(t,o){this._UserService=t;this._ToastrService=o}destroy$=new g;buttonDisabled=!1;ForgetPassForm=new V({email:new j("",[d.email,d.required])});handleForgetPass(){this.buttonDisabled=!0,this.ForgetPassForm.valid?this._UserService.forgetPassword(this.ForgetPassForm.value).pipe(F(this.destroy$),_(t=>this._ToastrService.success(t.message||"a message has been sent to your email")),v(t=>(this._ToastrService.error(t.error.message||"something went wrong try again"),f(null)))).subscribe():this.ForgetPassForm.markAllAsTouched(),this.buttonDisabled=!1}static \u0275fac=function(o){return new(o||e)(p(I),p(N))};static \u0275cmp=w({type:e,selectors:[["app-forget-password"]],decls:8,vars:3,consts:[["email",""],[1,"container","py-10"],[1,"grid","grid-rows-1","gap-6","items-center",3,"ngSubmit","formGroup"],["type","email","placeholder","  Email ...","formControlName","email",1,"engenitic-input"],[4,"ngIf"],[1,"flex","justify-center","gap-8","items-center"],["type","submit",1,"engenitic-button","w-fit","hover:enginitic-main-color","hover:text-white",3,"disabled"],["class","text-normal font-regular text-red-500",4,"ngIf"],[1,"text-normal","font-regular","text-red-500"]],template:function(o,i){if(o&1){let r=P();a(0,"main",1)(1,"form",2),C("ngSubmit",function(){return b(r),h(i.handleForgetPass())}),S(2,"input",3,0),c(4,B,3,2,"div",4),a(5,"div",5)(6,"button",6),l(7," submit "),m()()()()}if(o&2){let r,u=x(3);n(),s("formGroup",i.ForgetPassForm),n(3),s("ngIf",((r=i.ForgetPassForm.get("email"))==null?null:r.errors)&&(((r=i.ForgetPassForm.get("email"))==null?null:r.touched)||u.value.length>0)),n(2),s("disabled",i.buttonDisabled)}},dependencies:[k,M,E,G,U,q,A,D,T],encapsulation:2})};export{$ as ForgetPasswordComponent};
