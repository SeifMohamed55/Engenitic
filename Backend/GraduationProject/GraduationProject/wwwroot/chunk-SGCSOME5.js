import{a as k}from"./chunk-AY56BS4D.js";import{a as G,b as I,c as N,d as D,e as H,f as M,h as E,j as V,m as j,t as A}from"./chunk-W3D5FJDG.js";import{l as T}from"./chunk-T3YITE6W.js";import{j as w,r as F}from"./chunk-3CPSLGPY.js";import{Ab as a,Bb as h,Eb as x,Ib as C,Jb as d,R as v,Sb as y,Tb as l,Vb as u,Xa as i,bb as p,gb as S,ha as b,ia as _,j as g,lb as c,sb as s,zb as n}from"./chunk-YOS4OKYA.js";function Y(t,e){t&1&&(n(0,"p",11),l(1," you must enter a sentence before submitting "),a())}function $(t,e){if(t&1&&(n(0,"div",9),c(1,Y,2,0,"p",10),a()),t&2){let r,o=d();i(),s("ngIf",(r=o.grammarForm.get("sentence"))==null?null:r.getError("required"))}}function P(t,e){if(t&1&&(n(0,"p",12),l(1),a()),t&2){let r=d();i(),u(" your grammar score is ",r.score," % ")}}var q=class t{constructor(e,r){this._ToastrService=e;this._ModelsService=r}response="";score;buttonDisabled=!1;destroy$=new g;grammarForm=new H({sentence:new M("",[I.required])});handleSubmit(){this.buttonDisabled=!0,this.grammarForm.valid?this._ModelsService.grammarCorrection(this.grammarForm.get("sentence")?.value).pipe(v(this.destroy$)).subscribe({next:e=>{this.response=e.data.correctedText,this.score=Number(e.data.score)},error:e=>{console.warn(e),e.error?this._ToastrService.warning(e.error.message):this._ToastrService.error("an error has occured to the server try again later")}}):this.grammarForm.markAllAsTouched(),this.buttonDisabled=!1}static \u0275fac=function(r){return new(r||t)(p(T),p(k))};static \u0275cmp=S({type:t,selectors:[["app-grammar-help"]],decls:12,vars:5,consts:[["sentence",""],[1,"container"],[1,"grid","md:grid-cols-2","gap-5","md:gap-20",3,"ngSubmit","formGroup"],["rows","12","cols","60","formControlName","sentence","placeholder","   Type Your Sentence Here .....",1,"engenitic-input","my-5"],["class","mb-3",4,"ngIf"],["type","submit",1,"engenitic-button","hover:enginitic-main-color","hover:text-white","w-full","md:w-fit",3,"disabled"],[1,"flex","justify-between","flex-col"],["rows","12","cols","70","disabled","","placeholder","   Your Corrected Sentence Is Here .",1,"engenitic-input","my-5"],["class","font-regular",4,"ngIf"],[1,"mb-3"],["class","text-sm xl:text-normal font-regular text-red-500",4,"ngIf"],[1,"text-sm","xl:text-normal","font-regular","text-red-500"],[1,"font-regular"]],template:function(r,o){if(r&1){let m=x();n(0,"main",1)(1,"form",2),C("ngSubmit",function(){return b(m),_(o.handleSubmit())}),n(2,"div"),h(3,"textarea",3,0),c(5,$,2,1,"div",4),n(6,"button",5),l(7," submit "),a()(),n(8,"div",6)(9,"textarea",7),l(10),a(),c(11,P,2,1,"p",8),a()()()}if(r&2){let m,f=y(4);i(),s("formGroup",o.grammarForm),i(4),s("ngIf",((m=o.grammarForm.get("sentence"))==null?null:m.errors)&&(((m=o.grammarForm.get("sentence"))==null?null:m.touched)||f.value.length>0)),i(),s("disabled",o.buttonDisabled),i(4),u(" ",o.response," "),i(),s("ngIf",o.score)}},dependencies:[A,E,G,N,D,V,j,F,w],encapsulation:2})};export{q as GrammarHelpComponent};
