import{a as O}from"./chunk-AY56BS4D.js";import{a as D,b as U,c as L,d as M,e as N,f as I,h as j,j as E,m as G,t as V}from"./chunk-W3D5FJDG.js";import{l as T}from"./chunk-T3YITE6W.js";import{j as F,r as w}from"./chunk-3CPSLGPY.js";import{Ab as a,Bb as c,Eb as x,Ib as _,Jb as y,R as f,Sa as h,Sb as C,Tb as m,Xa as l,bb as d,gb as S,ha as v,ia as b,j as g,lb as p,sb as s,zb as n}from"./chunk-YOS4OKYA.js";function $(r,e){r&1&&(n(0,"p",11),m(1," the text field is required "),a())}function k(r,e){if(r&1&&(n(0,"div",9),p(1,$,2,0,"p",10),a()),r&2){let t,i=y();l(),s("ngIf",(t=i.listeningForm.get("text"))==null?null:t.getError("required"))}}var R=class r{constructor(e,t){this._ModelsService=e;this._ToastrService=t}listeningForm=new N({text:new I("",[U.required])});audioUrl=null;destroy$=new g;responsive;isDisabled=!1;ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.audioUrl&&URL.revokeObjectURL(this.audioUrl)}handleSubmit(){this.isDisabled=!0,this.listeningForm.valid?this._ModelsService.textToSpeech(this.listeningForm.value).pipe(f(this.destroy$)).subscribe({next:e=>{this.audioUrl=URL.createObjectURL(e)},error:e=>{e.error?this._ToastrService.error(e.error.message):this._ToastrService.error("an error has occured try again later")}}):this.listeningForm.markAllAsTouched(),this.isDisabled=!1}static \u0275fac=function(t){return new(t||r)(d(O),d(T))};static \u0275cmp=S({type:r,selectors:[["app-listening"]],decls:12,vars:4,consts:[["text",""],[1,"container"],[1,"grid","md:grid-cols-2","gap-7","md:gap-20","py-10",3,"ngSubmit","formGroup"],[1,"flex","justify-between","flex-col"],["rows","12","cols","60","placeholder","   Type Your text Here ....","formControlName","text",1,"engenitic-input","mb-5"],["class","mb-4",4,"ngIf"],["type","submit",1,"engenitic-button","w-full","md:w-fit","hover:enginitic-main-color","hover:text-white",3,"disabled"],["for","listening-audio",1,"font-regular","text-normal"],["id","listening-audio","controls","",1,"engenitic-input","shadow-container","mt-6",3,"src"],[1,"mb-4"],["class","text-normal font-regular text-red-500",4,"ngIf"],[1,"text-normal","font-regular","text-red-500"]],template:function(t,i){if(t&1){let o=x();n(0,"main",1)(1,"form",2),_("ngSubmit",function(){return v(o),b(i.handleSubmit())}),n(2,"div",3),c(3,"textarea",4,0),p(5,k,2,1,"div",5),n(6,"button",6),m(7," submit "),a()(),n(8,"div")(9,"label",7),m(10,"listening audio"),a(),c(11,"audio",8),a()()()}if(t&2){let o,u=C(4);l(),s("formGroup",i.listeningForm),l(4),s("ngIf",((o=i.listeningForm.get("text"))==null?null:o.errors)&&(((o=i.listeningForm.get("text"))==null?null:o.touched)||u.value.length>0)),l(),s("disabled",i.isDisabled),l(5),s("src",i.audioUrl,h)}},dependencies:[V,j,D,L,M,E,G,w,F],encapsulation:2})};export{R as ListeningComponent};
